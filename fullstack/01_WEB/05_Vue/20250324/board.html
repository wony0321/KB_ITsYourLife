<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ÌååÏùºÎ™Ö</title>
  </head>
  <body>
    <div id="app">
      <h1>üìå Í≤åÏãúÌåê Î™©Î°ù</h1>
      <div class="search-bar" >
        <input type="text" placeholder="Í≤ÄÏÉâÏñ¥Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî." v-model="selectQuery">
      </div>
      <div class="sort-buttons">
        <button @click="sortPosts('asc')">Ïò§Î¶ÑÏ∞®Ïàú</button>
        <button @click="sortPosts('desc')">ÎÇ¥Î¶ºÏ∞®Ïàú</button>
      </div>
      <ul>
        <li
          v-for="post in filteredPosts"
          :key="post.no"
          class="post-item"
          @click="selectPost(post)"
        >
          <span>{{post.no}}. {{ post.title }}</span>
          <button class = "delete-button" @click = "deletePost(post)">ÏÇ≠Ï†ú</button>
        </li>
      </ul>
      <div v-if="selectedPost" class="post-content">
        <h2>{{ selectedPost.title }}</h2>
        <p>{{ selectedPost.content }}</p>
        <button @click="closePost">Îã´Í∏∞</button>
      </div>
      <div>
        <h3>ÏÉà Í∏Ä Îì±Î°ù</h3>
        <input type="text" v-model = "newPostTitle" placeholder="Ï†úÎ™©">
        <input type="text" v-model = "newPostContent" placeholder="ÎÇ¥Ïö©">
        <button @click = "addPost">Îì±Î°ù</button>
      </div>
    </div>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script type="text/javascript">
      const { createApp, ref, computed } = Vue;
      const app = createApp({
        setup() {
          const posts = ref([
            {
              no: 1,
              title: 'Vue.js Í∏∞Ï¥à Î∞∞Ïö∞Í∏∞',
              content:
                'Vue.jsÎäî ÏÇ¨Ïö©Ïûê Ïù∏ÌÑ∞ÌéòÏù¥Ïä§Î•º Íµ¨Ï∂ïÌïòÍ∏∞ ÏúÑÌïú ÌîÑÎ°úÍ∑∏Î†àÏãúÎ∏å ÌîÑÎ†àÏûÑÏõåÌÅ¨ÏûÖÎãàÎã§.',
            },
            {
              no: 2,
              title: 'ÏûêÎ∞îÏä§ÌÅ¨Î¶ΩÌä∏ ES6 Î¨∏Î≤ï',
              content:
                'ES6Îäî JavaScriptÏùò ÏµúÏã† Î¨∏Î≤ïÏùÑ Ìè¨Ìï®ÌïòÎ©∞, let/const, ÌôîÏÇ¥Ìëú Ìï®Ïàò, Íµ¨Ï°∞ Î∂ÑÌï¥ Ìï†Îãπ Îì±ÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§.',
            },
            {
              no: 3,
              title: 'Node.jsÏôÄ Express',
              content:
                'Node.jsÎäî ÏÑúÎ≤Ñ Ï∏°ÏóêÏÑú JavaScriptÎ•º Ïã§ÌñâÌï† Ïàò ÏûàÎèÑÎ°ù ÌïòÎäî Îü∞ÌÉÄÏûÑÏù¥Î©∞, ExpressÎäî Ïù¥Î•º ÏúÑÌïú Í≤ΩÎüâ Ïõπ ÌîÑÎ†àÏûÑÏõåÌÅ¨ÏûÖÎãàÎã§.',
            },
            {
              no: 4,
              title: 'MongoDB Í∏∞Î≥∏ Í∞úÎÖê',
              content:
                'MongoDBÎäî NoSQL Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Î°ú JSONÍ≥º Ïú†ÏÇ¨Ìïú Î¨∏ÏÑú Í∏∞Î∞ò Îç∞Ïù¥ÌÑ∞Î•º Ï†ÄÏû•ÌïòÍ≥† Í¥ÄÎ¶¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.',
            },
            {
              no: 5,
              title: 'ÌîÑÎ°†Ìä∏ÏóîÎìúÏôÄ Î∞±ÏóîÎìúÏùò Ï∞®Ïù¥',
              content:
                'ÌîÑÎ°†Ìä∏ÏóîÎìúÎäî ÏÇ¨Ïö©ÏûêÍ∞Ä Î≥¥Îäî Î∂ÄÎ∂ÑÏùÑ Í∞úÎ∞úÌïòÎäî Í≤ÉÏù¥Í≥†, Î∞±ÏóîÎìúÎäî ÏÑúÎ≤ÑÏôÄ Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§Î•º Í¥ÄÎ¶¨ÌïòÎäî Î∂ÄÎ∂ÑÏûÖÎãàÎã§.',
            },
            {
              no: 6,
              title: 'ÎπÑÎèôÍ∏∞ ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç',
              content:
                'JavaScriptÏùò ÎπÑÎèôÍ∏∞ Ï≤òÎ¶¨ Î∞©ÏãùÏóêÎäî ÏΩúÎ∞±, ÌîÑÎ°úÎØ∏Ïä§, async/awaitÍ∞Ä ÏûàÏäµÎãàÎã§.',
            },
            {
              no: 7,
              title: 'Vue Router ÏÇ¨Ïö©Î≤ï',
              content:
                'Vue RouterÎ•º ÏÇ¨Ïö©ÌïòÎ©¥ Vue.js Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖòÏóêÏÑú ÌéòÏù¥ÏßÄ Ïù¥ÎèôÏùÑ ÏâΩÍ≤å Ï≤òÎ¶¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.',
            },
            {
              no: 8,
              title: 'Ïª¥Ìè¨ÎÑåÌä∏ Í∏∞Î∞ò Í∞úÎ∞ú',
              content:
                'Vue.jsÏóêÏÑúÎäî Ïª¥Ìè¨ÎÑåÌä∏Î•º ÏÇ¨Ïö©ÌïòÏó¨ UIÎ•º ÏûëÏùÄ Îã®ÏúÑÎ°ú Ï™ºÍ∞úÏÑú Í¥ÄÎ¶¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.',
            },
            {
              no: 9,
              title: 'CSSÏôÄ SCSS Ï∞®Ïù¥Ï†ê',
              content:
                'SCSSÎäî CSSÏùò ÌôïÏû•Îêú Î≤ÑÏ†ÑÏúºÎ°ú Î≥ÄÏàò, Ï§ëÏ≤©, ÎØπÏä§Ïù∏ Îì±ÏùÑ ÏßÄÏõêÌï©ÎãàÎã§.',
            },
            {
              no: 10,
              title: 'GitÍ≥º GitHub ÏÇ¨Ïö©Î≤ï',
              content:
                'GitÏùÄ Î≤ÑÏ†Ñ Í¥ÄÎ¶¨ ÏãúÏä§ÌÖúÏù¥Î©∞, GitHubÎäî Ïù¥Î•º ÌôúÏö©Ìïú ÏõêÍ≤© Ï†ÄÏû•ÏÜå ÌîåÎû´ÌèºÏûÖÎãàÎã§.',
            },
            ...Array.from({ length: 3000 }, (_, i) => ({
              no: i + 11,
              title: `Í≤åÏãúÍ∏Ä Ï†úÎ™© ${i + 11}`,
              content: `Í≤åÏãúÍ∏Ä ${
                i + 11
              }Ïùò ÎÇ¥Ïö©ÏûÖÎãàÎã§. Ïù¥ Í∏ÄÏùÄ ÏûêÎèôÏúºÎ°ú ÏÉùÏÑ±Îêú ÎÇ¥Ïö©ÏûÖÎãàÎã§.`,
            })),
          ]);
          const selectedPost = ref(null);
          const selectPost = (post) => {
            selectedPost.value = post;
          };
          const closePost = () => {
            selectedPost.value = null;
          };
          const newPostTitle = ref('');
          const newPostContent = ref('');
          const addPost = ()=>{
            const newPost = {
              no: posts.value.length + 1,
              title: newPostTitle.value,
              content: newPostContent.value,
            };
            posts.value.push(newPost);
            newPostTitle.value = '';
            newPostContent.value = '';
          }
          const deletePost = (post) => {
            const index = posts.value.findIndex((p) => p.no === post.no);
            if (index !== -1) {
              posts.value.splice(index, 1);
            }
          };
          // Ï†ïÎ†¨ Í∏∞Îä•
          const sortPosts = (order) => {
            if (order === 'asc') {
                console.log('Ïò§Î¶ÑÏ∞®Ïàú');
                /*
                SORT(ÏΩúÎ∞±Ìï®Ïàò): Î∞∞Ïó¥Ïùò Í∞Å ÏöîÏÜåÎ•º ÏΩúÎ∞±Ìï®ÏàòÎ•º Í∏∞Ï§ÄÏúºÎ°ú ÎπÑÍµêÌï¥ Ï†ïÎ†¨
                Í≤∞Í≥ºÍ∞íÏù¥ ÏùåÏàòÎ©¥ -> aÍ∞Ä bÎ≥¥Îã§ ÏïûÏóê ÏôÄÏïºÌï®
                Í≤∞Í≥ºÍ∞íÏù¥ ÏñëÏàòÎ©¥ -> aÍ∞Ä bÎ≥¥Îã§ Îí§Ïóê ÏôÄÏïºÌï®
                Í≤∞Í≥ºÍ∞íÏù¥ 0Ïù¥Î©¥ -> ÏàúÏÑúÎ•º Î∞îÍæ∏ÏßÄ ÏïäÏùå
                */

                // ÏΩúÎ∞±Ìï®ÏàòÎ°ú Í∏∞Ï§ÄÏ†ê ÎßåÎì§Ïñ¥ÏÑú sort ÌïòÍ∏∞
                // Ïó¨Í∏∞ÏÑú a, bÎäî Ï≤´Î≤àÏß∏ ÎëêÎ≤àÏß∏Í∫º ÎπÑÍµêÌï¥ÏÑú sort
                posts.value.sort((a, b) => a.no - b.no)
            } else {
                console.log('ÎÇ¥Î¶ºÏ∞®Ïàú');
                posts.value.sort((a, b) => b.no - a.no)
            }
          }
          
          // Í≤ÄÏÉâ Í∏∞Îä•
          const selectQuery = ref('')
        

          // Í≤ÄÏÉâÏñ¥Í∞Ä ÏóÜÏùÑ ÎïåÎäî Ï†ÑÏ≤¥ Í≤åÏãúÍ∏Ä Î≥¥Ïó¨Ï£ºÍ∏∞
          const filteredPosts = computed (() => {
            console.log('Í≤ÄÏÉâÍ∏∞Îä• Ìò∏Ï∂úÎê®');
            if (!selectQuery.value) return posts.value;           

            const query = selectQuery.value.toLowerCase();            

            // filter: Î∞∞Ïó¥Ïùò Í∞Å ÏöîÏÜåÏóê ÎåÄÌï¥ Ï£ºÏñ¥ÏßÑ Ï°∞Í±¥ÏùÑ ÎßåÏ°±ÌïòÎäî ÏöîÏÜåÎßå Î™®ÏïÑ ÏÉà Î∞∞Ïó¥ÏùÑ Î∞òÌôòÌï®
            return posts.value.filter((post) => 
                post.title.toLowerCase().includes(query) || 
                post.content.toLowerCase().includes(query)
            );
        
          })

          return {
            posts,
            selectedPost,
            selectPost,
            closePost,
            newPostContent,
            newPostTitle,
            addPost,
            deletePost,
            sortPosts,
            selectQuery,
            filteredPosts
          };
        },
      });
      const vm = app.mount('#app');
    </script>
  </body>
  <style>
        h1 {
          text-align: center;
          color: #333;
        }
        ul {
          list-style-type: none;
          padding: 0;
        }
        .post-item {
          cursor: pointer;
          padding: 10px;
          border-bottom: 1px solid #ddd;
          position: relative;
        }
        .post-item:hover {
          background: #F4F4F4;
        }
        .post-content {
          margin-top: 20px;
          padding: 15px;
          border: 1px solid #ddd;
          border-radius: 5px;
          background: #fff;
        }
        button {
          margin-top: 10px;
          padding: 5px 10px;
          border: none;
          background: #FF6B6B;
          color: white;
          cursor: pointer;
          border-radius: 3px;
        }
        button:hover {
          background: #FF4F4F;
        }
        .delete-button {
          position: absolute;
          right: 10px;
          top: 50%;
          transform: translateY(-50%);
        }
        .sort-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        .search-bar{
          display: flex;
          justify-content: center;
        }
  </style>
</body>
</html>